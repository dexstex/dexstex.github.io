var userid="545719664983015434";async function init(i){let e=i,s=document.getElementById("avatar");if("online"===e.discord_status)s.classList.add("online");else if("idle"===e.discord_status)s.classList.add("idle");else if("dnd"===e.discord_status)s.classList.add("dnd");else{s.classList.add("offline");let t=document.getElementById("activities");var a=document.createElement("div");a.id="offline",a.className="activity",t.appendChild(a);let l=["Doing nothing","Probably in school","Hi :3","Dead X_X","PC exploded","Probably touching grass"];var n=l[Math.random()*l.length|0];a.innerHTML=n}s.src="https://cdn.discordapp.com/avatars/545719664983015434/"+e.discord_user.avatar,document.getElementById("name").innerHTML=e.discord_user.username;let o=e.activities,r=document.getElementById("activities");o.forEach(i=>{if(4!==i.type){var s=document.createElement("div");if(s.id=i.name.split(" ").join("").toLowerCase(),s.className="activity","Spotify"===i.name){var t=e.spotify.timestamps.start,a=e.spotify.timestamps.end;sdiff=1e3*(exp_time=Math.floor(Date.now()/1e3))-t,ediff=a-t,formatTime=i=>[Math.floor(i/1e3/60%60),Math.floor(i/1e3%60)].map(i=>String(i).padStart(2,0)).join(":");var l=Math.round(sdiff/ediff*100),n=[e.spotify.song,e.spotify.artist.split("; ").join(", ")],o=[formatTime(sdiff),formatTime(ediff)];s.innerHTML='<div id="sact-info"><img class="act-icon" draggable="false" alt="" width="88" height="88" src="'+e.spotify.album_art_url+'"> <div id="sact-name"> <strong>'+i.name+'</strong><ul id="songinfo"><li class="songinfoli">'+n.join('</li><li class="songinfoli">By ')+'</li></ul></div></div><ul id="songtime"><li class="songtimeli">'+o.join('</li><li class="songtimeli">')+'</li></ul><div class="progressbar"><div class="progress" style="width:'+l+'%;"></div></div>'}else{let d=i.timestamps.start,c=Math.floor(Date.now()/1e3);diff=1e3*c-d,formatTime=i=>[Math.floor(i/1e3/3600%60),Math.floor(i/1e3/60%60),Math.floor(i/1e3%60)].map(i=>String(i).padStart(2,0)).join(":");var $=["<strong>"+i.name+"</strong>","<p>"+(void 0===i.details?"<br>":i.details)+"</p>","<p>"+(void 0===i.state?formatTime(diff)+" elapsed":i.state)+"</p>"];void 0!==i.assets?i.assets.large_image.startsWith("mp:external/")&&(s.innerHTML='<img draggable="false" alt="activity icon" class="act-icon" src="https://media.discordapp.net/external/'+i.assets.large_image.replace("mp:external/","")+'"> <div class="other"><ul><li class="act">'+$.join('</li><li class="act">')+"</li></ul></div>"):void 0===i.assets&&(s.innerHTML='<img draggable="false" alt="" width="88" height="88" src="/unknown.png"> <div class="other"><ul><li>'+$.join("</li><li>")+"</li></ul></div>")}r.appendChild(s)}else{var m=document.getElementById("status"),g=document.getElementById("statusemoji");void 0==i.state||(m.innerHTML=i.state),null!==i.emoji.name?g.innerHTML=i.emoji.name:null!==i.emoji.id&&(g.innerHTML=['<img draggable="false" alt="" width="24" height="24" src="https://cdn.discordapp.com/emojis/'+i.emoji.id+(i.emoji.animated?".gif":".png")+"</img>"])}})}async function updatepresence(){var i=await lanyard({userId:userid});let e=i.activities,s=document.getElementById("activities");if(e.forEach(e=>{if(4!==e.type){var t=e.name.split(" ").join("").toLowerCase(),a=!0;null!==document.getElementById(t)&&(a=0==document.getElementById(t).length);let l=document.getElementById(t);if(a&&((l=document.createElement("div")).id=t,l.className="activity"),"Spotify"===e.name){var n=i.spotify.timestamps.start,o=i.spotify.timestamps.end;sdiff=1e3*(exp_time=Math.floor(Date.now()/1e3))-n,ediff=o-n,formatTime=i=>[Math.floor(i/1e3/60%60),Math.floor(i/1e3%60)].map(i=>String(i).padStart(2,0)).join(":");var r=Math.round(sdiff/ediff*100),d=[i.spotify.song,i.spotify.artist.split("; ").join(", ")],c=[formatTime(sdiff),formatTime(ediff)];l.innerHTML='<div id="sact-info"><img class="act-icon" draggable="false" alt="" width="88" height="88" src="'+i.spotify.album_art_url+'"> <div id="sact-name"> <strong>'+e.name+'</strong><ul id="songinfo"><li class="songinfoli">'+d.join('</li><li class="songinfoli"> By ')+'</li></ul></div></div><ul id="songtime"><li class="songtimeli">'+c.join('</li><li class="songtimeli">')+'</li></ul><div class="progressbar"><div class="progress" style="width:'+r+'%;"></div></div>'}else{let $=e.timestamps.start,m=Math.floor(Date.now()/1e3);diff=1e3*m-$,formatTime=i=>[Math.floor(i/1e3/3600%60),Math.floor(i/1e3/60%60),Math.floor(i/1e3%60)].map(i=>String(i).padStart(2,0)).join(":");var g=["<strong>"+e.name+"</strong>","<p>"+(void 0===e.details?"<br>":e.details)+"</p>","<p>"+(void 0===e.state?formatTime(diff)+" elapsed":e.state)+"</p>"];void 0!==e.assets?e.assets.large_image.startsWith("mp:external/")&&(l.innerHTML='<img draggable="false" alt="activity icon" class="act-icon" src="https://media.discordapp.net/external/'+e.assets.large_image.replace("mp:external/","")+'"> <div class="other"><ul><li class="act">'+g.join('</li><li class="act">')+"</li></ul></div>"):void 0===e.assets&&(l.innerHTML='<img draggable="false" alt="" width="88" height="88" src="/unknown.png"> <div class="other"><ul><li>'+g.join("</li><li>")+"</li></ul></div>")}a&&s.appendChild(l)}}),"offline"==i.discord_status);else{let t=[];e.forEach(i=>{4!==i.type&&t.push(i.name.split(" ").join("").toLowerCase())});var a=[].slice.call(s.getElementsByClassName("activity"),0),l=Array(a.length),n=a.length;t.length;for(var o=0;o<n;o++){var r=a[o].getAttribute("id");l[o]=r}var d=l.filter(i=>!t.includes(i));a.filter(i=>d.includes(i.id)).forEach(i=>{i.remove()})}}const onload=async()=>{let i=async()=>{var i=await lanyard({userId:userid});init(i)};i(),lanyard({userId:userid,socket:!0,onPresenceUpdate:updatepresence})};